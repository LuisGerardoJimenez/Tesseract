	\begin{UseCase}{CU12.1.1.2}{Modificar Trayectoria}{
	
		Después de haber registrado una \hyperlink{entidadTray}{Trayectoria} en un \hyperlink{casoUso}{Caso de Uso} del \hyperlink{moduloEntidad}{Módulo} sobre el cual se está operando y el colaborador (\hyperlink{jefe}{Líder de Análisis} o \hyperlink{analista}{Analista}) requiera modificar su contenido, el sistema le permitirá editar cualquiera de los datos previamente registrados mediante un formulario (tanto para la trayectoria principal como las alternativas), este formulario contendrá los datos precargados de la última actualización para poder corregirlos y posteriormente guardarlos.\\
		
		Dentro de este caso de uso se le permitirá también al colaborador gestionar los pasos propios de la Trayectoria (de tal forma que podrá registrar, modificar, cambiar la posición de los pasos o en su defecto eliminarlos).\\
		
		Para que esta acción se pueda llevar a cabo es necesario que el caso de uso al que pertenece la trayectoria se encuentre en estado de Edición o Pendiente de corrección con base en el \hyperlink{edoCU}{Modelo de estados del Caso de Uso} y que exista al menos una trayectoria previamente registrada.
		
	}
		\UCitem{Actor}{\hyperlink{jefe}{Líder de Análisis}, \hyperlink{analista}{Analista}}
		\UCitem{Propósito}{Registrar la información de una trayectoria principal o alternativa.}
		\UCitem{Entradas}{
		\begin{itemize}
			\item \cdtRef{entidadTray:nombreTray}{Clave}: Se escribe desde el teclado.
			\item \cdtRef{entidadTray:alternativaTray}{Tipo:} Se escribe desde el teclado.
			\item \cdtRef{entidadTray:condicionTray}{Condición:} Se escribe desde el teclado.
			\item \cdtRef{entidadTray:finTray}{Fin del caso de uso:} Se selecciona de una lista.
		\end{itemize}	
		}
		\UCitem{Salidas}{\begin{itemize}
				\item \cdtRef{proyectoEntidad:claveProyecto}{Clave del proyecto}: Lo obtiene el sistema.
				\item \cdtRef{proyectoEntidad:nombreProyecto}{Nombre del proyecto}: Lo obtiene el sistema.
				\item \cdtRef{moduloEntidad:claveModulo}{Clave del Módulo}: Lo obtiene el sistema.
				\item \cdtRef{moduloEntidad:nombreModulo}{Nombre del Módulo}: Lo obtiene el sistema.
				\item \cdtRef{moduloEntidad:nombreModulo}{Nombre del Módulo}: Lo obtiene el sistema.
				\item \cdtRef{casoUso:numeroCU}{Número} del caso de uso: Lo obtiene el sistema. 
				\item \cdtRef{casoUso:nombreCU}{Nombre} del caso de uso: Lo obtiene el sistema.
				\item \cdtRef{entidadTray:nombreTray}{Clave}: Lo obtiene el sistema.
				\item \cdtRef{entidadTray:alternativaTray}{Tipo:} Lo obtiene el sistema.
				\item \cdtRef{entidadTray:condicionTray}{Condición:} Lo obtiene el sistema.
				\item \cdtRef{entidadTray:finTray}{Fin del caso de uso:} Lo obtiene el sistema.
				\item \cdtIdRef{MSG1}{Operación exitosa}: Se muestra en la pantalla \IUref{IU6.1.1}{Gestionar Trayectorias} para indicar que la edición fue exitosa.
		\end{itemize}}
		\UCitem{Precondiciones}{
			\begin{itemize}
				\item Que el caso de uso al que pertenece la trayectoria se encuentre en estado ''Edición'' o ''Pendiente de corrección''.
				\item Que exista al menos una trayectoria registrada.
			\end{itemize}
		}
		\UCitem{Postcondiciones}{
			Se modificará una nueva trayectoria para un caso de uso en el sistema.
		}
		\UCitem{Errores}{\begin{itemize}
		\item \cdtIdRef{MSG4}{Dato obligatorio}: Se muestra en la pantalla \IUref{IU6.1.1.2}{Modificar Trayectoria} cuando no se ha ingresado un dato marcado como obligatorio.
		\item \cdtIdRef{MSG5}{Formato incorrecto}: Se muestra en la pantalla \IUref{IU6.1.1.2}{Modificar Trayectoria} cuando el tipo de dato ingresado no cumple con el tipo de dato solicitado en el campo.
		\item \cdtIdRef{MSG6}{Longitud inválida}: Se muestra en la pantalla \IUref{IU6.1.1.2}{Modificar Trayectoria} cuando se ha excedido la longitud de alguno de los campos.
		\item \cdtIdRef{MSG7}{Registro repetido}: Se muestra en la pantalla \IUref{IU6.1.1.2}{Modificar Trayectoria} cuando se registre un caso de uso con un nombre que ya se encuentre registrado en el sistema.
		\item \cdtIdRef{MSG14}{Registro necesario}: Se muestra en la pantalla \IUref{IU6.1.1.2}{Modificar Trayectoria} cuando el actor no registro ningún paso de la trayectoria.
		\item \cdtIdRef{MSG12}{Ha ocurrido un error}: Se muestra en la pantalla \IUref{IU6}{Gestionar Casos de uso} cuando no exista información en el catálogo ''tipo''.
		\end{itemize}.
		}
		\UCitem{Tipo}{Secundario, extiende del caso de uso \UCref{CU12.1.1}{Gestionar Trayectorias}.}
	\end{UseCase}
%--------------------------------------
	\begin{UCtrayectoria}
		\UCpaso[\UCactor] Da clic en el icono \editar de la pantalla \IUref{IU6.1.1}{Gestionar Trayectorias}.
		\UCpaso[\UCsist] Verifica que el caso de uso se encuentre en estado ''Edición'' o en estado ''Pendiente de corrección''. \hyperlink{CU12-1-1-2:TAI}{[Trayectoria I]}.
		\UCpaso[\UCsist] Obtiene la información de la trayectoria.
		\UCpaso[\UCsist] Verifica que el catálogo ''tipo'' cuente con información, con base en la regla de negocio \BRref{RN20}{Verificación de catálogos}. \hyperlink{CU12-1-1-2:TAA}{[Trayectoria A]}
		\UCpaso[\UCsist] Muestra la pantalla \IUref{IU6.1.1.2}{Modificar Trayectoria}.\label{CU12.1.1.2-P14}
		\UCpaso[\UCactor] Modifica la clave de la trayectoria. \label{CU12.1.1.2-P15}
		\UCpaso[\UCactor] Modifica el tipo de trayectoria. \hyperlink{CU12-1-1-2:TAB}{[Trayectoria B]} \label{CU12.1.1.2-P16}
		\UCpaso[\UCsist] Marca la casilla del campo ''Fin del caso de uso''. 
		\UCpaso[\UCactor] Oprime el botón \IUbutton{Aceptar}. \hyperlink{CU12-1-1-2:TAC}{[Trayectoria C]} \label{CU12.1.1.2-P18}
		\UCpaso[\UCsist] Verifica que el actor ingrese todos los campos obligatorios con base en la regla de negocio \BRref{RN8}{Datos obligatorios}. \hyperlink{CU12-1-1-2:TAD}{[Trayectoria D]}
		\UCpaso[\UCsist] Verifica que los datos ingresados cumpla con la longitud correcta, con base en la regla de negocio \BRref{RN37}{Longitud de datos}. \hyperlink{CU12-1-1-2:TAE}{[Trayectoria E]}
		\UCpaso[\UCsist] Verifica que los datos ingresados cumplan con el formato requerido, con base en la regla de negocio \BRref{RN7}{Información correcta}. \hyperlink{CU12-1-1-2:TAF}{[Trayectoria F]}
		\UCpaso[\UCsist] Verifica que la clave de la trayectoria no se encuentre registrada en el sistema con base en la regla de negocio \BRref{RN6}{Unicidad de nombres}. \hyperlink{CU12-1-1-2:TAG}{[Trayectoria G]}
		\UCpaso[\UCsist] Verifica que el actor haya ingresado al menos un paso, con base en la regla de negocio \BRref{RN32}{Pasos en la Trayectoria}. \hyperlink{CU12-1-1-2:TAH}{[Trayectoria H]}
		\UCpaso[\UCsist] Actualiza la información de la trayectoria.
		\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG1}{Operación exitosa} en la pantalla. \IUref{IU6.1.1}{Gestionar Trayectorias} para indicar al actor que la modificación se ha realizado exitosamente.
	\end{UCtrayectoria}		
%--------------------------------------
\hypertarget{CU12-1-1-2:TAA}{\textbf{Trayectoria alternativa A}}\\
\noindent \textbf{Condición:} El catálogo ''tipo'' no tiene información.
\begin{enumerate}
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG12}{Ha ocurrido un error} en la pantalla \IUref{IU6.1.1}{Gestionar Trayectorias} para indicar que no es posible realizar la operación debido a la falta de información necesaria para el sistema.
	\item[- -] - - {\em {Fin del caso de uso}}.%
\end{enumerate}
%--------------------------------------
\hypertarget{CU12-1-1-2:TAB}{\textbf{Trayectoria alternativa B}}\\
\noindent \textbf{Condición:} El actor desea registrar una trayectoria alternativa.
\begin{enumerate}
	\UCpaso[\UCactor] Selecciona la opción ''Alternativa'' del campo ''Tipo''.
	\UCpaso[\UCsist] Muestra el campo de condición.
	\UCpaso[\UCactor] Ingresa la condición de la trayectoria.
	\UCpaso[\UCactor] Selecciona si en la trayectoria se termina el caso de uso.
	\UCpaso Continúa con el paso \ref{CU12.1.1.2-P18} de la trayectoria principal.
	\item[- -] - - {\em {Fin de la trayectoria}}.%
\end{enumerate}
%--------------------------------------
\hypertarget{CU12-1-1-2:TAC}{\textbf{Trayectoria alternativa C}}\\
\noindent \textbf{Condición:} El actor desea cancelar la operación.
\begin{enumerate}
	\UCpaso[\UCactor] Solicita cancelar la operación oprimiendo el botón \IUbutton{Cancelar} de la pantalla \IUref{IU6.1.1.2}{Modificar Trayectoria}.
	\UCpaso[\UCsist] Muestra la pantalla \IUref{IU6.1.1}{Gestionar Trayectorias}.
	\item[- -] - - {\em {Fin del caso de uso}}.%
\end{enumerate}
%--------------------------------------
\hypertarget{CU12-1-1-2:TAD}{\textbf{Trayectoria alternativa D}}\\
\noindent \textbf{Condición:} El actor no ingresó algún dato marcado como obligatorio.
\begin{enumerate}
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG4}{Dato obligatorio} señalando el campo que presenta el error en la pantalla \IUref{IU6.1.1.2}{Modificar Trayectoria}.
	\UCpaso Regresa al paso \ref{CU12.1.1.2-P15} de la trayectoria principal.
	\item[- -] - - {\em {Fin de la trayectoria}}.%
\end{enumerate}
%--------------------------------------
\hypertarget{CU12-1-1-2:TAE}{\textbf{Trayectoria alternativa E}}\\
\noindent \textbf{Condición:} El actor ingresó un dato con un número de caracteres fuera del rango permitido.
\begin{enumerate}
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG6}{Longitud inválida} señalando el campo que presenta el error en la pantalla \IUref{IU6.1.1.2}{Modificar Trayectoria}.
	\UCpaso Regresa al paso \ref{CU12.1.1.2-P15} de la trayectoria principal.
	\item[- -] - - {\em {Fin de la trayectoria}}.%
\end{enumerate}
%--------------------------------------
\hypertarget{CU12-1-1-2:TAF}{\textbf{Trayectoria alternativa F}}\\
\noindent \textbf{Condición:} El actor ingresó un dato con un formato incorrecto.
\begin{enumerate}
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG5}{Formato incorrecto} señalando el campo que presenta el error en la pantalla \IUref{IU6.1.1.2}{Modificar Trayectoria}.
	\UCpaso Regresa al paso \ref{CU12.1.1.2-P15} de la trayectoria principal.
	\item[- -] - - {\em {Fin de la trayectoria}}.
\end{enumerate}
%--------------------------------------	
\hypertarget{CU2-1-1-2:TAG}{\textbf{Trayectoria alternativa G}}\\
\noindent \textbf{Condición:} El actor ingresó una clave de trayectoria que ya existe dentro del sistema.
\begin{enumerate}
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG7}{Registro repetido} señalando el campo que presenta la duplicidad en la pantalla \IUref{IU6.1.1.2}{Modificar Trayectoria}.
	\UCpaso Regresa al paso \ref{CU12.1.1.2-P15} de la trayectoria principal.
	\item[- -] - - {\em {Fin de la trayectoria}}.
\end{enumerate}
%--------------------------------------
\hypertarget{CU12-1-1-2:TAH}{\textbf{Trayectoria alternativa H}}\\
\noindent \textbf{Condición:} El actor no registró ningún paso.
\begin{enumerate}
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG14}{Registro necesario} en la sección de pasos de la pantalla \IUref{IU6.1.1.2}{Modificar Trayectoria}.
	\UCpaso Regresa al paso \ref{CU12.1.1.2-P15} de la trayectoria principal.
	\item[- -] - - {\em {Fin de la trayectoria}}.
\end{enumerate}
%--------------------------------------
\hypertarget{CU12-1-1-2:TAI}{\textbf{Trayectoria alternativa I}}\\
\noindent \textbf{Condición:} El caso de uso no se encuentra en estado ''Edición'' o ''Pendiente de corrección''.
\begin{enumerate}
	\UCpaso[\UCsist]  Oculta el botón \raisebox{-1mm}{\includegraphics[height=11pt]{images/Iconos/tray}} del caso que no se encuentra en estado de ''Edición'' o ''Pendiente de corrección''.
	\item[- -] - - {\em {Fin del caso de uso}}.
\end{enumerate}
